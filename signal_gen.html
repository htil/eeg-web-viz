<!DOCTYPE html>
<html lang="en">
  <head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	 <!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<style>

	.line {
			fill: none;
			stroke: steelblue;
			stroke-width: 1.5px;
		}

	body {
		margin: 10px;
	}

	</style>
</head>

<body>
	<h1>Interactive Fast Fourier Transform</h1>
	<h5>You can resize the sliding window by clicking on the edges. Move window left to right to select a new subset of data.</h5>

	<div>
		<div class="form-row py-1" id="channel_select" style="display: none">
			<div class="col-xs-"><label class="col-xs-1" style="font-size: 20px">Select Channel: </label></div>
			<div class="col-xs-"><select id="dropdown" class="form-select"></select></div>
		</div>
		<div class="form-row py-1" id="window_manipulation">
			<div class="col-xs-"><label class="col-xs-1" style="font-size: 20px">Move window to time range (sec): </label></div>
			<div class="col-xs-"><input type=number id="window_start" class="form-control window_control"></div>
			<div class="col-xs-"><label class="col-xs-1" style="font-size: 20px">to</label></div>
			<div class="col-xs-"><input type=number id="window_end" class="form-control window_control"></div>
			<div class="col-xs-"><button id="window_button" class="btn btn-primary">Enter</button></div>
		</div>
		<div class="form-row py-1">
			<div class="col-xs-"><div class="alert alert-danger" role="alert" id="window_alert" style="display:none;"></div></div>
		</div>
	</div>

	<h4>Signal Generation</h4>
	<div id = "signal_gen">
		<div id="clonedInput1" class="clonedInput">
			<div class="form-row py-1">
				<div class="col-0"><label id="ampLabel" class="col-xs-1" style="font-size: 20px">Amplitude 1: </label></div>
				<div class="col-0"><label class="col-xs-1" style="font-size: 20px">0</label></div>
				<div class="col-2"><input type=range id="amplitudeRange1" class="form-control signal_control" value="10" min="0" max="100" onchange="$('#amplitudeInput1').val(this.value); drawWave();"></div>
				<div class="col-1"><input type="number" id="amplitudeInput1" class="form-control signal_control amp_value" min="0" max="100" value="10" onchange="$('#amplitudeRange1').val(this.value); drawWave();" /></div>
				<div class="col-0"><label class="col-xs-1 px-4" style="font-size: 20px">&nbsp</label></div>
				<div class="col-0"><label id="freqLabel" class="col-xs-1" style="font-size: 20px">Frequency 1:&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp </label></div>
				<div class="col-0"><label class="col-xs-1" style="font-size: 20px">0</label></div>
				<div class="col-2"><input type=range id="frequencyRange1" class="form-control signal_control" value="10" min="0" max="255" onchange="$('#frequencyInput1').val(this.value); drawWave();"></div>
				<div class="col-1"><input type="number" id="frequencyInput1" class="form-control signal_control col-xs freq_value" min="0" max="255" value="25" onchange="$('#frequencyRange1').val(this.value); drawWave();" /></div>
				<div class="col-0"><button id="removeButton1" class="btn btn-danger remove" style="display:none">Remove</button></div>
			</div>
		</div>
	</div>
	<div class="form-row py-1">
		<div class="col-0"><button class="form-control btn-success clone">Add Signal</button></div>
	</div>
	<div class="form-row py-1" id="adv_opt_row">
		<div class="col-0"><button id="adv_opt_show" class="btn btn-primary" onclick="$('#advanced_options').show(); $(this).hide(); $('#adv_opt_hide').show()">Show Advanced Options</button></div>
		<div class="col-0"><button id="adv_opt_hide" class="btn btn-primary" style="display:none; "onclick="$('#advanced_options').hide(); $(this).hide(); $('#adv_opt_show').show()">Hide Advanced Options</button></div>
		<div class="form-row py-1" id="advanced_options" style="display:none;">
			<div class="col-0"><label id="samplingRate" class="col-xs-1" style="font-size: 20px">Sample Rate: </label></div>
			<div class="col-2"><input type=range id="sampleRateRange" class="form-control signal_control" value="512" min="256" max="1024" onchange="$('#sampleRateInput').val(this.value); drawWave();"></div>
			<div class="col-2"><input type="number" id="sampleRateInput" class="form-control signal_control" min="256" max="1024" value="512" onchange="$('#sampleRateRange').val(this.value); drawWave();" /></div>
			<div class="col-0"><label id="signalDuration" class="col-xs-1" style="font-size: 20px">&nbsp&nbsp&nbspSignal Duration:</label></div>
			<div class="col-2"><input type="number" id="signalDurationInput" class="form-control signal_control col-xs" min="1" max="10" value="1" onchange="$('#signalDurationRange').val(this.value); drawWave();" /></div>
			<div class="col-0"><button id="removeButton1" class="btn btn-danger remove" style="display:none">Remove</button></div>
		</div>
	</div>

	  


	<table cellpadding="15">
		<tr>
			<td>
				<h2 id="title">Original Signal</h2>
				<div id="plot" class="plot">
					<svg width="600" height="550" id="svg1"></svg>
				</div>
			</td>
			<td>
				<h2>FFT</h2>
				<div id="fft_div">
					<div id = "fft_plot"></div>
				</div>
			</td>
			
		</tr>
		<tr style='display: none;'>
			<td valign="top" style="border-left : 5px solid blue; "">
				<h2>Output</h2>
				<div id="output">
					<p id="window_len"></p>
					<p id="window_range"></p>
					<p id="delta_bp"></p>
					<p id="theta_bp"></p>
					<p id="alpha_bp"></p>
					<p id="beta_bp"></p>
					<p id="gamma_bp"></p>
				</div>
			</td>
			<td></td>
		</tr>
	</table>


</body>

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script> <!-- jQuery-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script> <!-- Popper -->
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script> <!-- Bootstrap CSS -->
<script src="https://d3js.org/d3.v4.min.js"></script> <!-- D3.js -->
<script src="https://cdn.jsdelivr.net/npm/bcijs@1.8.0/dist/bci.min.js"></script> <!-- bci.js -->


<script src="resources/jquery.fft.js"></script>
<script src="resources/fili.min.js"></script>
<script src="signal_gen.js"></script>
